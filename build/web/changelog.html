<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Astra Studios.</title>
    <link rel="stylesheet" href="changelog.css">
    <link rel="icon" type="image/png" href="favicon.png" sizes="16x16">
   <!--more icon from fonts.google.com-->
   <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&icon_names=close,menu_open" />
</head>
<body>
        <button id="nav-toggle" type="button" onclick="toggleNav()">
            <i class="open">             
                <span class="material-symbols-rounded">
                menu_open
                 </span>
                </i>
            <i class="close">            
                <span class="material-symbols-rounded">
                close
                 </span>
                </i>
          </button>
<script>
const toggleNav = () => {
  document.body.dataset.nav = document.body.dataset.nav === "true" ? "false" : "true";
}
</script>
<nav>
    <h1 class="navigate">navigate.</h1>
    <a class="link" href="index.html">Home.</a>
    <a class="link" href="game.html">project AstRA.</a>
    <a class="link" href="about.html">About.</a>
    <a class="link" href="#Changelog">changelog.</a>
</nav>
<script>
    for(const link of document.getElementsByClassName("link")) {
  link.onmousemove = e => {
    const decimal = e.clientX / link.offsetWidth;
    
    const basePercent = 80,
          percentRange = 20,
          adjustablePercent = percentRange * decimal;
    
    const lightBluePercent = basePercent + adjustablePercent;
    
    link.style.setProperty("--light-blue-percent", `${lightBluePercent}%`);
  }
}
</script>
<div id="Nav-Blur"></div>
<div class="title">
  <div class="title-text">
      Changelog
  </div>
  <div class="title-subtext">
      Here you can find the latest updates and changes to Project <span style="font-family: major mono display;"> AstRA.</span>
  </div>
</div>
<div id="json-container"></div>

<script> 
        async function displayJSON() {
            try {
                const response = await fetch('changelog.json');
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                const jsonData = await response.json();

                const container = document.getElementById('json-container');
                container.innerHTML = '';

                jsonData.reverse().forEach(entry => {
                    const entryDiv = document.createElement('div');
                    entryDiv.classList.add('entry');

                    const versionDiv = document.createElement('div');
                    versionDiv.classList.add('version');
                    versionDiv.innerHTML = `<b>${entry.version}</b> - ${entry.date}`; // Use innerHTML for bolding

                    entryDiv.appendChild(versionDiv);

                    const changesList = document.createElement('ul'); // Use a list for better structure
                    changesList.classList.add('changes');
                    entry.changes.forEach(change => {
                        const changeItem = document.createElement('li'); // List item
                        changeItem.classList.add('change');
                        changeItem.innerHTML = `<span class="type">- ${change.type}</span><br><br> <span class="desc">${change.description}</span>`; // Use innerHTML
                        changesList.appendChild(changeItem);
                    });
                    entryDiv.appendChild(changesList);
                    container.appendChild(entryDiv);
                });
            } catch (error) {
                console.error('Error:', error);
                const container = document.getElementById('json-container');
                container.textContent = "Error loading data.";
            }
        }

        displayJSON();
</script>
</body>
</html>